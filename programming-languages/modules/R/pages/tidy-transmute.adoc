= `transmute`

`transmute` is a useful function that adds new variables and drops all existing ones. If a variable already exists, it overwrites the variable. For example, let's say we wanted to capitalize the values of `Species` in the `iris` dataset:

[source,r]
----
iris %>%
    transmute(Species = toupper(Species)) %>%
    head()
----
----
   Species
 1  SETOSA
 2  SETOSA
 3  SETOSA
 4  SETOSA
 5  SETOSA
 6  SETOSA
----

Here, the values in the `Species` column are overwritten with the fully capitalized version. All of the other columns are dropped. One way to maintain other columns, would be to include them in the `transmute` call:

[source,r]
----
iris %>%
    transmute(Species = toupper(Species), Sepal.Length, Sepal.Width) %>%
    head()
----
----
   Species Sepal.Length Sepal.Width
 1  SETOSA          5.1         3.5
 2  SETOSA          4.9         3.0
 3  SETOSA          4.7         3.2
 4  SETOSA          4.6         3.1
 5  SETOSA          5.0         3.6
 6  SETOSA          5.4         3.9
----

Alternatively, you could use `mutate`, which has the same behavior, but preserves existing variables.

== mutate

`mutate` is just like `transmute`, but the original data is preserved. For example:

[source,r]
----
iris %>%
    mutate(Species = toupper(Species)) %>%
    head()
----
----
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
 1          5.1         3.5          1.4         0.2  SETOSA
 2          4.9         3.0          1.4         0.2  SETOSA
 3          4.7         3.2          1.3         0.2  SETOSA
 4          4.6         3.1          1.5         0.2  SETOSA
 5          5.0         3.6          1.4         0.2  SETOSA
 6          5.4         3.9          1.7         0.4  SETOSA
----

Here, since `Species` already exists as a column, the column is overwritten by our new capitalized values. If the name of the new column does not already exist, the original `Species` column will remain untouched. For example:

[source,r]
----
iris %>%
    mutate(Species_Cap = toupper(Species)) %>%
    head()
----
----
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species Species_Cap
 1          5.1         3.5          1.4         0.2  setosa      SETOSA
 2          4.9         3.0          1.4         0.2  setosa      SETOSA
 3          4.7         3.2          1.3         0.2  setosa      SETOSA
 4          4.6         3.1          1.5         0.2  setosa      SETOSA
 5          5.0         3.6          1.4         0.2  setosa      SETOSA
 6          5.4         3.9          1.7         0.4  setosa      SETOSA
----

`mutate` is extremely useful, and is difficult (and less intuitive) to replicate in `pandas` in Python.