# Projects {#projects}

## Templates

### R & Bash

[Template](https://raw.githubusercontent.com/TheDataMine/the-examples-book/master/files/r_bash_project_template.Rmd)

Students in STAT 19000, 29000, and 39000 are to use this as a template for non-python project solutions. All code should live inside code chunks with the proper language code (r, bash, sql, etc.). Every question should be clearly marked with a third-level header (using 3 "#"'s). Sections for question solutions should be added or removed based on the number of questions in the given project. All code chunks are to be run and solutions displayed prior to submission.

Any format or template related questions should be asked in Piazza.

### Python

[Template](https://raw.githubusercontent.com/TheDataMine/the-examples-book/master/files/python_project_template.ipynb)

Students in STAT 19000, 29000, and 39000 are to use this as a template for python project solutions. Every question should be clearly marked with a second-level header (using 3 "#"'s) in a Markdown cell. Sections for question solutions should be added or removed based on the number of questions in the given project. All cells are to be run and solutions displayed prior to submission.

Any format or template related questions should be asked in Piazza.

## Fall 2020

### STAT 19000

### STAT 29000

#### Project 5

---

**Motivation:** Becoming comfortable stringing together commands and getting used to navigating files in a terminal is important for every data scientist to do. By learning the basics of a few useful tools, you will have the ability to quickly understand and manipulate files in a way which is just not possible using tools like Microsoft Office, Google Sheets, etc.

**Context:** We've been using UNIX tools in a terminal to solve a variety of problems. In this project we will continue to solve problems by combining a variety of tools using a form of redirection called piping.

**Scope:** grep, regular expression basics, UNIX utilities, redirection, piping

**Learning objectives:**

```{block, type="bbox"}
- Use `cut` to section off and slice up data from the command line.
- Use piping to string UNIX commands together.
- Use `sort` and it's options to sort data in different ways.
- Use `head` to isolate _n_ lines of output.
- Use `wc` to summarize the number of lines in a file or in output.
- Use `uniq` to filter out non-unique lines.
- Use `grep` to search files effectively.
```


You can find useful examples that walk you through relevant material in The Examples Book:

https://thedatamine.github.io/the-examples-book

It is highly recommended to read through, search, and explore these examples to help solve problems in this project.

**Important note:** It is highly recommended that you use https://rstudio.scholar.rcac.purdue.edu/. Simply click on the link and login using your Purdue account credentials. Use another system at your own risk. The version of RStudio on https://desktop.scholar.rcac.purdue.edu/ (which uses ThinLinc), is 99.9.9, and is known to have some strange issues when running code chunks.

Don't forget the very useful documentation shortcut `?`. To use, simply type `?` in the console, followed by the name of the function you are interested in. 

You can also look for package documentation by using `help(package=PACKAGENAME)`, so for example, to see the documentation for the package `ggplot2`, we could run:

```{r, eval=F}
help(package=ggplot2)
```

Sometimes it can be helpful to see the source code of a defined function. A [function](https://www.tutorialspoint.com/r/r_functions.htm) is any chunk of organized code that is used to perform an operation. Source code is the underlying `R` or `c` or `c++` code that is used to create the function. To see the source code of a defined function, type the function's name without the `()`. For example, if we were curious about what the function `Reduce` does, we could run:

```{r, eval=F}
Reduce
```

Occasionally this will be less useful as the resulting code will be code that calls `c` code we can't see. Other times it will allow you to understand the function better.

##### Dataset

The following questions will use the dataset found in Scholar:

`/class/datamine/data/amazon/amazon_fine_food_reviews.csv`

A public sample of the data can be found here: [amazon_fine_food_reviews.csv]()

##### Questions

##### 1. What is the `Id` of the most helpful review if we consider the review with highest `HelpfulnessNumerator` to be an indicator of helpfulness (higher is more helpful)?

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [head](https://thedatamine.github.io/the-examples-book/unix.html#head), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- Line of UNIX commands used to solve the problem.
- The `Id` of the most helpful review.
```

###### 2. Use two lines of UNIX commands to find the ratio of unique `Summary`'s.

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [uniq](https://thedatamine.github.io/the-examples-book/unix.html#uniq), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [wc](https://thedatamine.github.io/the-examples-book/unix.html#wc), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- Two lines of UNIX commands used to solve the problem.
- The ratio of unique `Summary`'s.
```

###### 3. Use a simple UNIX command to create a frequency table of `Score`.

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [uniq](https://thedatamine.github.io/the-examples-book/unix.html#uniq), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
- The frequency table.
```

###### 4. Who is the user with the highest number of reviews? There are two columns you could use to answer this question, but which column do you think would be most appropriate and why?

**Hint:** *You may need to pipe the output to `sort` multiple times.*

**Hint:** *To create the frequency table, read through the `man` pages for `uniq`.*

```{bash, eval=F}
man uniq
```

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [uniq](https://thedatamine.github.io/the-examples-book/unix.html#uniq), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [head](https://thedatamine.github.io/the-examples-book/unix.html#head), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
- The frequency table.
```

###### 5. Anecdotally, there seems to be a tendency to leave reviews when we feel strongly (either positive or negative) about a product. For the user with the highest number of reviews, would you say that they follow this polemic pattern? Let's consider 5 star reviews to be strongly positive and 1 star reviews to be strongly negative.

**Hint:** *You may find the solution to problem (3) useful.*

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [uniq](https://thedatamine.github.io/the-examples-book/unix.html#uniq), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [grep](https://thedatamine.github.io/the-examples-book/unix.html#grep), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
```

###### 6. We want to compare the most helpful review with a `Score` of 5 with the most helpful review with a `Score` of 1. Use UNIX commands to calculate these values. Write down the `ProductId` of both reviews. In the case of a tie, write down all `ProductId`'s to get full credit. In this case we are considering the most helpful review to be the review with the highest `HelpfulnessNumerator`.

**Hint:** *You can use multiple lines to solve this problem.*

**Relevant topics:** *[sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [head](https://thedatamine.github.io/the-examples-book/unix.html#head), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The lines of UNIX commands used to solve the problem.
- `ProductId`'s of both requested reviews.
```

###### 7. Using the `ProductId`'s from the previous question, create a new dataset called `reviews.csv` which contains the `ProductId`'s and `Score` of all reviews with the corresponding `ProductId`'s. 

**Relevant topics:** *[grep](https://thedatamine.github.io/the-examples-book/unix.html#head), [redirection](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
```

###### 8. Use R to load up `reviews.csv` into a new data.frame called `dat`. Create a histogram for each products' `Score`. Compare the most helpful review `Score` with the `Score`'s given in the histogram. Based on this comparison, decide (anecdotally) whether you think people found the review helpful because the product is overrated, underrated, or correctly reviewed by the masses.

**Relevant topics:** *[read.csv](file:///Users/kamstut/Dropbox/work/datamine/the-examples-book/docs/r.html#r-reading-and-writing-data), [hist](file:///Users/kamstut/Dropbox/work/datamine/the-examples-book/docs/r.html#r-plotting)*

```{block, type="bbox"}
**Item(s) to submit:**

- R code used to create the histograms.
- 3 histograms, 1 for each `ProductId`.
```

---



### STAT 39000

#### Project 5

---

**Motivation:** Becoming comfortable stringing together commands and getting used to navigating files in a terminal is important for every data scientist to do. By learning the basics of a few useful tools, you will have the ability to quickly understand and manipulate files in a way which is just not possible using tools like Microsoft Office, Google Sheets, etc.

**Context:** We've been using UNIX tools in a terminal to solve a variety of problems. In this project we will continue to solve problems by combining a variety of tools using a form of redirection called piping.

**Scope:** grep, regular expression basics, UNIX utilities, redirection, piping

**Learning objectives:**

```{block, type="bbox"}
- Use `cut` to section off and slice up data from the command line.
- Use piping to string UNIX commands together.
- Use `sort` and it's options to sort data in different ways.
- Use `head` to isolate _n_ lines of output.
- Use `wc` to summarize the number of lines in a file or in output.
- Use `uniq` to filter out non-unique lines.
- Use `grep` to search files effectively.
```


You can find useful examples that walk you through relevant material in The Examples Book:

https://thedatamine.github.io/the-examples-book

It is highly recommended to read through, search, and explore these examples to help solve problems in this project.

**Important note:** It is highly recommended that you use https://rstudio.scholar.rcac.purdue.edu/. Simply click on the link and login using your Purdue account credentials. Use another system at your own risk. The version of RStudio on https://desktop.scholar.rcac.purdue.edu/ (which uses ThinLinc), is 99.9.9, and is known to have some strange issues when running code chunks.

Don't forget the very useful documentation shortcut `?`. To use, simply type `?` in the console, followed by the name of the function you are interested in. 

You can also look for package documentation by using `help(package=PACKAGENAME)`, so for example, to see the documentation for the package `ggplot2`, we could run:

```{r, eval=F}
help(package=ggplot2)
```

Sometimes it can be helpful to see the source code of a defined function. A [function](https://www.tutorialspoint.com/r/r_functions.htm) is any chunk of organized code that is used to perform an operation. Source code is the underlying `R` or `c` or `c++` code that is used to create the function. To see the source code of a defined function, type the function's name without the `()`. For example, if we were curious about what the function `Reduce` does, we could run:

```{r, eval=F}
Reduce
```

Occasionally this will be less useful as the resulting code will be code that calls `c` code we can't see. Other times it will allow you to understand the function better.

##### Dataset

The following questions will use the dataset found in Scholar:

`/class/datamine/data/amazon/amazon_fine_food_reviews.csv`

A public sample of the data can be found here: [amazon_fine_food_reviews.csv]()

##### Questions

###### 1. What is the `Id` of the most helpful review if we consider the review with highest `HelpfulnessNumerator` to be an indicator of helpfulness (higher is more helpful)?

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [head](https://thedatamine.github.io/the-examples-book/unix.html#head), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- Line of UNIX commands used to solve the problem.
- The `Id` of the most helpful review.
```

###### 2. Use two lines of UNIX commands to find the ratio of unique `Summary`'s.

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [uniq](https://thedatamine.github.io/the-examples-book/unix.html#uniq), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [wc](https://thedatamine.github.io/the-examples-book/unix.html#wc), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- Two lines of UNIX commands used to solve the problem.
- The ratio of unique `Summary`'s.
```

###### 3. Use a simple UNIX command to create a frequency table of `Score`.

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [uniq](https://thedatamine.github.io/the-examples-book/unix.html#uniq), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
- The frequency table.
```

###### 4. Who is the user with the highest number of reviews? There are two columns you could use to answer this question, but which column do you think would be most appropriate and why?

**Hint:** *You may need to pipe the output to `sort` multiple times.*

**Hint:** *To create the frequency table, read through the `man` pages for `uniq`.*

```{bash, eval=F}
man uniq
```

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [uniq](https://thedatamine.github.io/the-examples-book/unix.html#uniq), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [head](https://thedatamine.github.io/the-examples-book/unix.html#head), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
- The frequency table.
```

###### 5. Anecdotally, there seems to be a tendency to leave reviews when we feel strongly (either positive or negative) about a product. For the user with the highest number of reviews, would you say that they follow this polemic pattern? Let's consider 5 star reviews to be strongly positive and 1 star reviews to be strongly negative.

**Hint:** *You may find the solution to problem (3) useful.*

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [uniq](https://thedatamine.github.io/the-examples-book/unix.html#uniq), [sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [grep](https://thedatamine.github.io/the-examples-book/unix.html#grep), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
```

###### 6. We want to compare the most helpful review with a `Score` of 5 with the most helpful review with a `Score` of 1. Use UNIX commands to calculate these values. Write down the `ProductId` of both reviews. In the case of a tie, write down all `ProductId`'s to get full credit. In this case we are considering the most helpful review to be the review with the highest `HelpfulnessNumerator`.

**Hint:** *You can use multiple lines to solve this problem.*

**Relevant topics:** *[sort](https://thedatamine.github.io/the-examples-book/unix.html#sort), [head](https://thedatamine.github.io/the-examples-book/unix.html#head), [piping](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The lines of UNIX commands used to solve the problem.
- `ProductId`'s of both requested reviews.
```

###### 7. Using the `ProductId`'s from the previous question, create a new dataset called `reviews.csv` which contains the `ProductId`'s and `Score` of all reviews with the corresponding `ProductId`'s.  

**Relevant topics:** *[cut](https://thedatamine.github.io/the-examples-book/unix.html#cut), [grep](https://thedatamine.github.io/the-examples-book/unix.html#head), [redirection](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
```

###### 8. If we didn't use `cut` prior to searching for the `ProductId`'s in (7), we would get unwanted results. Modify the solution to (7) and explore. What is happening?

**Relevant topics:** *[cat](https://thedatamine.github.io/the-examples-book/unix.html#cat), [grep](https://thedatamine.github.io/the-examples-book/unix.html#head), [redirection](https://thedatamine.github.io/the-examples-book/unix.html#piping-and-redirection)*

```{block, type="bbox"}
**Item(s) to submit:**

- The line of UNIX commands used to solve the problem.
- 1-2 sentences explaining why we need to use `cut` first.
```

###### 9. Use R to load up `reviews.csv` into a new data.frame called `dat`. Create a histogram for each products' `Score`. Compare the most helpful review `Score` with the `Score`'s given in the histogram. Based on this comparison, decide (anecdotally) whether you think people found the review helpful because the product is overrated, underrated, or correctly reviewed by the masses.

**Relevant topics:** *[read.csv](file:///Users/kamstut/Dropbox/work/datamine/the-examples-book/docs/r.html#r-reading-and-writing-data), [hist](file:///Users/kamstut/Dropbox/work/datamine/the-examples-book/docs/r.html#r-plotting)*

```{block, type="bbox"}
**Item(s) to submit:**

- R code used to create the histograms.
- 3 histograms, 1 for each `ProductId`.
```

---

## Spring 2021

### STAT 19000

### STAT 29000

### STAT 39000