= TDM 10100: Project 5 -- Fall 2022
Tapply and DataFrames

**Motivation:** `R` differs from other programing languages that _typically_  work best using vectorized functions and the _apply_ suite instead of using loops. 

.Insider Knowledge
[%collapsible]
====
Apply Functions: are an alternative to loops. You can use *`apply()`* and its varients (i.e. mapply(), sapply(), lapply(), vapply(), rapply(), and tapply()...) to manuiplate peices of data from data.frames, lists, arrays, matrices in a repetative way. The *`apply()`* functions allow for flexiabilty in crossing data in multiple ways that a loop does not.
====

**Context:** Learning if/else statments and loops was an important part of `R`, we wil focuse this project on more effective ways of processing data in `R`.

**Scope:** r, data.frames, recycling, factors, if/else, for loops, apply suite

.Learning Objectives
****
- Explain what "recycling" is in R and predict behavior of provided statements.
- Explain and demonstrate how R handles missing data: NA, NaN, NULL, etc.
- Demonstrate the ability to use the following functions to solve data-driven problem(s): mean, var, table, cut, paste, rep, seq, sort, order, length, unique, etc.
- Read and write basic (csv) data.
- Explain and demonstrate: positional, named, and logical indexing.
- List the differences between lists, vectors, factors, and data.frames, and when to use each.
- Demonstrate a working knowledge of control flow in r: for loops.
****

Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].

== Dataset(s)

The following questions will use the following dataset(s) in anvil:

/anvil/projects/tdm/data/election/escaped/itcont2020sample.txt

.Helpful Hint
[%collapsible]
====
A txt and csv file both sore information in plain text. *csv* files are _always_ separated by commas. In *txt* files the fields can be separated with commas, semicolons, or tab. 

to read in a txt file as a csv we simply add sep="|" (see code below)
[source,r]
----
 myDF <- read.csv(/anvil/projects/tdm/data/election/escaped/itcont2020sample.txt, sep="|")
----
====

== Questions

=== ONE

Read the dataset `itcont2020sample` into a data.frame called `myDF`. The dataset contains contribution information for the 2020 election year.

The dataset has a column named `TRANSACTION_DT` which is set up in the `[month].[day].year]` format. 
We want to organize the dates in chronological order. 

When working with dates, it is important to use tools specifically for this purpose (rather, than using string manipulation, for example). We've provided you with the code below. The provided code uses the `lubridate` package, an excellent package which hides away many common issues that occur when working with dates. Feel free to check out https://raw.githubusercontent.com/rstudio/cheatsheets/master/lubridate.pdf[the official cheatsheet] in case you'd like to learn more about the package.

Run the code below to extract to create two new columns: `trending_year` and `publish_year`.

[source,r]
----
library(lubridate, warn.conflicts = FALSE)
----

[loweralpha]
.. You will notice that the dates in `TRANSACTION_DT` are different lengths. Go ahead and reorder the dates into a new column named `newdates`and add that to the exisiting data.frame.
.. Using t-apply we want to get the sum of the columns of `TRANSACTION_AMT` and `newdate`
.. Go ahead and plot the dates on the x-axis and the information we found on the y-axis 
.Helpful Hint
[%collapsible]
====
*tapply()* helps us to compute statistical measures such as mean, median, minimum, maximum, sum, etc...for each factor variable in a vector. *tapply()* is most helpful when we need to break up a vector into groups defined by a specific factor and compute a function on the subsets.
====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
====

=== TWO

The Plot that we just created in question one shows us that the majority of the data collected is between 2018-2020 so we want to look at the year 2019

[loweralpha]
.. Create a new dataframe that looks at only 01/01/2019-12/31/2019
.. Plot the new dataframe 
.. What do you notice about the data?

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answer to the questions above
====

=== THREE
Lets look at the donations by city and state

[loweralpha]
.. Find the average of donations by state
.. Then lets make a new column that has both city and state.
.. Find the average donation amount for each city/state location
.. In the output do you notice anything suspicious in the result? How do you think that occured?

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
-Answers to the questions above.
====

=== FOUR
Lets take a look who is donating 

[loweralpha]
.. Find the type of data that is in the `NAME` columm
.. Split up the names in the `Name` column so that you are able to sort by first names
.. How much on average does Mary and James donate? Who donates more in terms of value?
.. How much on average does Frank and Cindy donate? which name donates more often?
.. How many 
.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answer to the questions above
====

=== FIVE
Employment status

[loweralpha]
.. What are the statuses that you can see under employer? under occupation?
.. Using a bargraph show donations made from employed vs not employed individuals
.. What is the catagory of occupation that donates the most money?
.. Plot somthing that you find interesting about the employment and occupation column

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- 1-2 sentences explaining what is was you chose to plot and why
- Answering to the questions above
====

[WARNING]
====
_Please_ make sure to double check that your submission is complete, and contains all of your code and output before submitting. If you are on a spotty internet connection, it is recommended to download your submission after submitting it to make sure what you _think_ you submitted, was what you _actually_ submitted.
====
