= TDM 20100: Project 6 -- 2023

**Motivation:** `awk` is a programming language designed for text processing. It can be a quick and efficient way to quickly parse through and process textual data. While Python and R definitely have their place in the data science world, it can be extremely satisfying to perform an operation extremely quickly using something like `awk`. 

**Context:** This is the second of three projects where we introduce `awk`. `awk` is a powerful tool that can be used to perform a variety of the tasks that we've previously used other UNIX utilities for. After this project, we will continue to utilize all of the utilities, and bash scripts, to perform tasks in a repeatable manner.

**Scope:** awk, UNIX utilities

.Learning Objectives
****
- Use awk to process and manipulate textual data.
- Use piping and redirection within the terminal to pass around data between utilities.
****

Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].

== Dataset(s)

The following questions will use the following dataset(s):

- `/anvil/projects/tdm/data/craigslist/vehicles_clean.txt`
- `/anvil/projects/tdm/data/donorschoose/Donations.csv`
- `/anvil/projects/tdm/data/whin/weather.csv`

== Questions

=== Question 1 (1 pt)

[arabic]

.. How many columns and rows are in the following dataset: `/anvil/projects/tdm/data/craigslist/vehicles_clean.txt`.

Make sure the output is formatted as follows.

.output
----
rows: 12345
columns: 12345
----
[NOTE]
====
Use 'awk' to determin text file's coluns and rows; 'awk' syntax example:

awk -F '~' 'NR==1 {print "Columns: " NF} END {print "Rows: " NR}' your_file.txt

====
.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
====

=== Question 2 (1 pt)

[arabic]

.. Please list all possible "Title_status " of the vehicles in the file of `/anvil/projects/tdm/data/craigslist/vehicles_clean.txt`. The list need to have each status followed by the numbers as follows.
 Use `awk` to answer this question. 
.output
----
Title_status       Number of cars
---------       --------------
AAA                 12345
bb                  99999
----

[NOTE]
====
Use `awk` to answer this question, the 'awk' command need to accomplish the following tasks

* Processes the vehicles_clean.csv file which has ~ as its delimiter
* Skips the header line.
* Counts occurrences of each unique value in the 13th column.
* Prints a table with each unique value and its count.

====
.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
====

=== Question 3 (1 pt)

[arabic]

.. What is year range for the donations date in the dataset: `/anvil/projects/tdm/data/donorschoose/Donations.csv`?

[NOTE]
====
Use `awk` to determine the years (for example, 2020, 2021, etc)

*  processes the Donations.csv file, skips the header
*  extracts and counts occurrences of years from the last column of file
*  prints out the distinct years  

====
[TIP]
====
The https://thomas-cokelaer.info/blog/2011/05/awk-the-substr-command-to-select-a-substring/[`substr`] function in `awk` will be useful.
====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
====

=== Question 4 (1 pt)

[arabic]
.. How much is the donation amount for year 2015 in data set `/anvil/projects/tdm/data/donorschoose/Donations.csv`?

Plase make sure the output format as follows

.output
----
Year Donations in dollars
2020 $1234.56
2021 $9999.99
----

[NOTE]
====
Use `awk` to determine the total donations (in dollars) by year 

Use `printf` and the unix `column` utility to format the output

====


.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
====

=== Question 5 (2 pts)

[arabic]
.. Please list the months and average `temperature_high` for the months in the file `/anvil/projects/tdm/data/whin/weather.csv`. The output should be in order

[NOTE]

====
Use `awk` to determine the average `temperature_high` by month:  

* calculates the average of the values from the 7th column for each unique substring (of length 20, starting from the 6th character) of the 5th column in the weather.csv file
* sorts this output.

====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
====

[WARNING]
====
_Please_ make sure to double check that your submission is complete, and contains all of your code and output before submitting. If you are on a spotty internet connection, it is recommended to download your submission after submitting it to make sure what you _think_ you submitted, was what you _actually_ submitted.
                                                                                                                             
In addition, please review our xref:submissions.adoc[submission guidelines] before submitting your project.
====