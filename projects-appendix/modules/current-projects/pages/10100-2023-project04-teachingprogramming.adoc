= TDM 10100: Project 4 -- Fall 2022
Introduction to R part III

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_1xixgdte?wid=_983291"></iframe>
++++

Many data science tools including xref:programming-languges:R:introduction[R] have powerful ways to index data.

.Insider Knowledge

[NOTE]

====
R typically has operations that are vectorized and there is little to no need to write loops. + 
R typically also uses indexing instead of using an if statement.

* Sequential statements (one after another) i.e. + 
1. print line 45 + 
2. print line 15 +

**if/else statements**
 create an order of direction based on a logical condition. +

if statement example:
[source,r]
----
x <- 7
if (x > 0){
print ("Positive number")
}
----
else statement example:
[source,r]
----
x <- -10
if(x >= 0){
print("Non-negative number")
} else {
print("Negative number")
}
----
In `R`, we can classify many numbers all at once:
[source,r]
----
x <- c(-10,3,1,-6,19,-3,12,-1)
mysigns <- rep("Non-negative number", times=8)
mysigns[x < 0] <- "Negative number"
mysigns
----
====

**Context:** As we continue to become more familiar with `R` this project will help reinforce the many ways of indexing data in `R`. 

**Scope:** R, data.frames, indexing. 

Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].


Using the *f2022-s2023-r* kernel 
Lets first see all of the files that are in the `craigslist` folder 
[source,r]
----
list.files("/anvil/projects/tdm/data/craigslist")
----

After looking at several of the files we will go ahead and read in the data frame on the Vehicles
[source,r]
----
myDF <- read.csv("/anvil/projects/tdm/data/craigslist/vehicles.csv", stringsAsFactors = TRUE)
----
.Helpful Hints
[NOTE]
====
Remember: +

* If we want to see the file size (aka how large) of the CSV. 
[source,r]
----
file.info("/anvil/projects/tdm/data/craigslist/vehicles.csv")$size
----

* You can also use 'file.info' to see other information about the file. 
====

=== ONE

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_gbvaezhp?wid=_983291"></iframe>
++++

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_kmfxfx9i?wid=_983291"></iframe>
++++

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_b18vvxti?wid=_983291"></iframe>
++++

It is so important that, each time we look at data, we start by becoming familiar with the data. +
In past projects we have looked at the head/tail along with the structure and the dimensions of the data. We want to continue this practice.

This dataset has 25 columns, and we are unable to see it all without adjusting the width.  We can do this by
[source,r]
----
options(repr.matrix.max.cols=25, repr.matrix.max.rows=200)
----
and we also remember (from the previous project) that we can set the output in `R` to look more natural this way:
[source,r]
----
options(jupyter.rich_display = F)
----


[NOTE]
.Helpful Hint
====
You can look at the first 6 rows (`head`), the last 6 rows (`tail`), the structure (`str`), and/or the dimensions (`dim`) of the dataset. 
====

[loweralpha]
.. How many unique regions are there in total? Name 5 of the different regions that are included in this dataset.
.. How many cars are manufactured in 2011 or afterwards, i.e., they are made in 2011 or newer?
.. In what year was the oldest model manufactured? In what year was the most recent model manufactured? In which year were the most cars manufactured?

[NOTE]
.Helpful Hint
====
To sort and order a single vector you can use this code:
[source,r]
----
head(myDF$year[order(myDF$year)])
----
You can also use the `sort` function, as demonstrated in earlier projects.
====
.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answers to the 3 questions above.
====

=== TWO

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_t8z6di8i?wid=_983291"></iframe>
++++

[loweralpha]
.. What are the top five regions with the most listings? What are the top five states with the most listings?  
.. What is the most common manufacturer? What is the least common manufacturer?  
.. What is the most common model? What is the least common model? 

[NOTE]
.Helpful Hint
====
To solve this problem, you might want to consider using the `table` function in R. This function creates a table of the counts at each combination of factor levels.
====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answers to the 3 questions above.
====

=== THREE

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_hyjr1d1z?wid=_983291"></iframe>
++++

[loweralpha]
.. What is the most common fuel type? What is the least common fuel type?
.. What is the most common drive type? What is the least common drive type?
.. What is the most common type of car? What is the least common type of car?

[NOTE]
.Helpful Hint
====
To solve this problem, you might want to consider using the `table` function in R. This function creates a table of the counts at each combination of factor levels.
====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answers to the 3 questions above.
====

=== FOUR

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_xqj1j2qc?wid=_983291"></iframe>
++++

[loweralpha]
.. How many cars are listed for each of the states? What are the top 5 states with the most listings? 
.. What are the top 5 manufacturers by the number of listings in the state with the most car listings? 

[NOTE]
.Helpful Hint
====
In order to answer the questions, you might want to consider using the `table` and `sort` functions in R. These functions can help you count the number of listings per state and sort the results.
====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answers to the 2 questions above.
====

=== FIVE

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_kmb9fm94?wid=_983291"></iframe>
++++

[loweralpha]
.. What is the average price of cars by state? What are the top 5 states with the highest average price? 
.. What are the top 5 manufacturers by the average price of listings in the state with the highest average price? 

[NOTE]
.Helpful Hint
====
In order to answer the questions, you might want to consider using the `aggregate` function in R. This function can help you calculate the average price per state and sort the results.
====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answers to the 2 questions above.
====

=== SIX

++++
<iframe class="video" src="https://cdnapisec.kaltura.com/html5/html5lib/v2.79.1/mwEmbedFrame.php/p/983291/uiconf_id/29134031/entry_id/1_pn5kmr3s?wid=_983291"></iframe>
++++

[loweralpha]
.. What is the most common paint color for cars? What is the least common paint color for cars?
.. What is the most common car type for each paint color?
.. What is the average price of cars by paint color? 

[NOTE]
.Helpful Hint
====
To answer these questions, you might want to use the `table` and `aggregate` functions in R. These functions can help you count the occurrences of each paint color and calculate the average price per paint color.
====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answers to the 3 questions above.
====

That's all for this project. Remember to save your work and submit it according to the instructions in xref:submissions.adoc[Submissions].

