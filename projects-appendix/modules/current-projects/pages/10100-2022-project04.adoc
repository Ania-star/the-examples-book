= TDM 10100: Project 4 -- Fall 2022
Inroduction to R part III

All programing languages including xref:programming-languges:R:introduction[R]. have an order and pathway by which the flow of the actions are determined. This is called control flow. +
Simply put control flow is simply the order in which we want our instructions to be executed. We can set things to happen `*_if_*` a specific condition has been met. +
We can also preform an operation several times by using loops.  

.Insider Knowlege 
[%collapsible]
====
R typically has operations that are vectorized and there is little to no need to write loops. + 

* Sequential statments (one after another) i.e. + 
1. print line 45 + 
2. print line 15 +

**if/else statments**
 create an order of direction based on a logical condition. +

if statment example:
[source,r]
----
x <- 7
if (x > 0){
print ("Positive number")
}
----
else statment example:
[source,r]
----
x <- -10
if(x > 0){
print("Non-negative number")
} else {
print("Negative number")
}
----

There are mutliple types/condidtions of if/else statments such as +
* nested if/else statments
* else/if statments 
* to join two or more conditions into a single `if` statement you can use logical operators. +

**loops**- `R` provides three basic loops +
* for- can ve used to execute a group of statments repeatedly +
* while- evaluates an expression or a function while a condition is *TRUE* +
* repeat- repeats the same expression or a function until its "broken" due to a condition

====
**Context:** As we continue to become more familiar with `R` this project will introduce and help practice the concept of control flow, while continuing to reinforce concepts from the previous projects. 

**Scope:** r, data.frames, recycling, factors, if/else statments, and for loops. 

Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].

Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].


Using the *f2022-s2023-r* kernel 
Lets first see all of the files that are in the CraigsList folder 
[source,r]
----
list.files(path = "/anvil/projects/tdm/data/craigslist", pattern = NULL, all.files = FALSE,
           full.names = FALSE, recursive = FALSE,
           ignore.case = FALSE, include.dirs = FALSE, no.. = FALSE)
----

After looking at several of the files we will go ahead and read in the data frame on the Vehicles
[source,r]
----
myDF <- read.csv("/anvil/projects/tdm/data/craigslist/vehicles.csv", stringsAsFactors = TRUE)
----

.Helpful Hints
[%collapsible]
====
Remember: +

* If we want to see the file size (aka how large) of the CSV. 
[source,r]
----
file.info("/anvil/projects/tdm/data/craigslist/vehicles.csv")$size
----

* You can also use 'file.info' to see other information about the file. 
====

=== ONE

It is so important that each time we look at data we start by becoming familiar with the data. +
In past projects we have looked at the head/tail along with the structure and the dimentions of the data. We want to continue this practice.

.Helpful Hint
[%collapsible]
====
You can look at the first 6 rows (`head`) and the last 6 rows (`tail`). The structure (`str`) and/or the dimentions (`dim`) of the dataset. 
====

[loweralpha]
.. How many unique regions are there in total? Name 5 of the the different regions that are included in this dataset.
.. Create a new vector called `year`, then a new vector called 'newer' how many cars are manufactured in 2011 or newer?
.. Put `year` into chronological order, what is the oldest model available, the newest? 

.Helpful Hint
[%collapsible]
====
To sort and order a single vector you can use this code:
[source,r]
----
myDF[order(myDF)]
----
====
.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- Answers to the 3 questions above.
====

=== TWO

Now that we have a better understanding of content and structure of our data. We are diving a bit deeper and making connections within the data.

[loweralpha]
.. If we are looking at the column *"SPOSTMIN"* what do you notice about the increments of time?
.. How many different wait time options do you see?
.. How many NA values do you see in *"SACTMIN"*. 
.. Create a new data frame with the name `newDF` that has all NA values removed in the *"SACTMIN"* colummn.

.Insider Knowledge
[%collapsible]
====
`na.omit` and `na.exclude` returns objects with the ovservations removed if they contain any missing values. As well as performs calculations by considering the NA values but does not include them in the calculation. +
`na.rm` first [.underline]#removes the NA values and then# does the calculation. +
`na.pass` returns the object unchanged 
====

.Helpful Hint
[%collapsible]
====
Use the code below 
[source,r]
----
table(myDF['SPOSTMIN'])
----
====

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- The answer to the 3 questions above.
====
=== THREE

[loweralpha]
.. On Christmas day what was the average wait time? 
.. On July 26th what was the average wait time and was there a difference between summer and the holiday? 
.. For which date is there the most entries in the data set?

.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- The answer to the 3 questions above.
====

==== FOUR
Recyling in R  +

.Insider Knowledge
[%collapsible]
====
Recycling happens in R automatically.When you are teempting to preform operations like addition, subtraction on two vectors of unequal length. +
The shorter vector will be repeated as long as the operation is completeing on the longer vector. 
====

[loweralpha]
.. Find the lengths of the column *"SACTMIN"* in the `myDF` and `newDF`.
.. Create a new vector called `myhours` by adding together *"SACTMIN"* columns from `myDF` and `newDF` each divided by 60  What is the length of that `myhours`?
.. What happened in row 7636?



.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- The answers to the 3 questions above.
====


==== FIVE


[source,r]
----
library(lubridate, warn.conflicts = FALSE)
myDF$weekday <- wday(myDF$datetime, label=TRUE)
----

[loweralpha]
.. What day of the week in 'myDF' has the longest wait times?
.. Make a boxplot and a dotchart of 'myDF' which one conveys the infomation better and why?
.. We created a new column in 'myDF' that shows the weekdays, add another column in 'myDF' that shows the month. 


.Items to submit
====
- Code used to solve this problem.
- Output from running the code.
- The answers to the 3 quetsions above.
====





[WARNING]
====
_Please_ make sure to double check that your submission is complete, and contains all of your code and output before submitting. If you are on a spotty internet connection, it is recommended to download your submission after submitting it to make sure what you _think_ you submitted, was what you _actually_ submitted.
====