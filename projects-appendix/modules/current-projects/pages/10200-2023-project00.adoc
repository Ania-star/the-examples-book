= TDM 10200: Project 5 -- 2023

**Motivation:** Once we have some data analysis working in Python, we often want to wrap it into a function.  Dr Ward usually tests anything that he wrote (usually 5 times), to make sure it works, before wrapping it into a function.  Once we are sure our analysis works, if we wrap it into a function, it can usually be easier to use.


**Context:**  Functions also help us to put our work into bite-size pieces that are easier to understand.  The basic idea is similar to functions from R or from other languages and tools. 

**Scope:** functions

Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].

== Dataset(s)

The following questions will use the following dataset(s):

-/anvil/projects/tdm/data/craigslist/vehicles.csv

[TIP]
====
I would _highly_ recommend taking the time to read through the entire article https://realpython.com/defining-your-own-python-function/[here]. It is a very detailed article going through all the things you can do with functions in Python. The section on https://realpython.com/defining-your-own-python-function/#argument-tuple-packing[tuple packing] and https://realpython.com/defining-your-own-python-function/#argument-tuple-unpacking[tuple unpacking] may be particularly useful to you!
====

[TIP]
====
https://realpython.com/defining-your-own-python-function/#default-parameters[This] section will review default parameters.
====

== Questions

=== ONE

read in the dataset from Project 4

-/anvil/projects/tdm/data/craigslist/vehicles.csv

and name it `cars`.

[loweralpha]
.. Write a function called `mycarcount` that takes two parameters: `cars` as a data frame, and `year` as an integer, and outputs the number of cars from that `year`.
.. Run the function for each of the years from Project 4, Question 4, namely, for the years 2011, 1989, 1997.  Make sure that your answers agree with the results from that earlier project.
.. Now run the function 1 time for each year in the data set.  (Be sure to only run it once per year, not once per row!)  Make sure that the results agree, if you (instead) check the `value_counts()` from the `year` column.


.Items to submit
====
- Code used to answer the question. 
- Result of code.
====



=== TWO
Loops are important in any programming language, because they help to execute code repeatedly. +

A `while` loop executes a block of statements repeatedly, until a given condition is satisfied. 

It looks a bit like this:
[source, python]
----
count = 0
while (count < 15):
    count = count + 2
    print ("Yay!")
----

You can also pair an `else` statement with a `while` loop. The `else` statement will ONLY be executed when the `while` condition is false. 
[source, python]
----
while condition
    # executes specific statments
else:
    # execute specific statments
----
 
[loweralpha]
.. Using the code, below add an `else` statement that will print "Boo!" after any number greater than 15
[source, python]
----
count = 0
while (count < 15):
    count = count + 2
    print ("Yay!")
----
.. Use the while loop to print series of numbers from 0 to 200, counting by 10's

.. Put the phrase "Old McDonald had a farm e-i-e-i-o" into a string and call it `words`.   Print everything in the string *EXCEPT* the letter *a* 

.. Now take `words` and replace each occurrence of the symbol *-* with an asterisk ***

.Items to submit
====
- Code used to answer the question. 
- Result of code.
====

=== THREE

A `for` loops is typically used for going thru a list, array, or a string. Typically it runs a specific code over and over again, `for` a defined number of times in a sequence.  A `while` loop runs until it hits a certain condition, but a `for` loop iterates over items within a sequence or list.

[source, python]
----
for itarator_variable in sequence_name:
    statements
    ...
    statements
----

.Insider information
[%collapsible]
====
-The first word of the statement is `for` which identifies that it is the beginning of the `for loop`. +
- The `iterator variable` is a variable that changes each time the loop is executed. +
- The keyword `in` shows the iterator variable which elements to loop over in a sequence. +
- The statements allow you to preform various functions
====
.Helpful Hint
[%collapsible]
====
- *enumerate()* The function enumerate() allows us to iterate thru a sequence but it keeps track of the index and element. It can also be converted into a list of tuples using the `list()` function. +
[source, python]
----
#create list of fruit
fruit = ['cherry', 'banana', 'orange', 'kiwi', 'apple']
#enumerate fruit but start at number one since default is 0
num_fruit = enumerate(fruit, start=1) 
#print the enumerate object as a list
print (list(num_fruit))
#output from code
[(1, 'cherry'), (2, 'banana'), (3, 'orange'), (4, 'kiwi'), (5, 'apple')]
----
- *range()* The function is built into python that allows for iteration through a sequence of numbers. `range()` will never include the stop number in its result (aka 6) and always includes 0 +
[source,python]
----
range(6)
for n in range(6):
    print(n)
#output from code
0
1
2
3
4
5
----
====

[loweralpha]
.. Create a `for loop` 
.. Now add in the `enumerate()` function to your `for loop`.
.. Create a for loop with the `range()` function
Check out the Helpful Hint for an examples

.Insider Knowledge 
[%collapsible]
====
Notice that the indexing for our dataframe starts at 0. In `Python` and other programming languages, the indexing starts at 0. In contrast, during our previous semester, working in `R`, the indexing began at 1. This is an important fact to remember. 
====

.Items to submit
====
- Code used to answer the question. 
- Result of code.
====


=== FOUR

From the dataset `cars` create a `dict` called `my_dict` that contains key:value pairs. The keys should be the years and the values are single integers representing the number of vehicles from that year.

.Helpful Hint
[%collapsible]
====
[source, python]
----
myyears = cars['year'].dropna().to_list()
# get a list containing each unique year
unique_years = list(set(myyears))
# for each year (key), initialize the value (value) to 0
my_dict = {}
for year in unique_years:
    my_dict[year] = 0
----
====

From the new dictionary that you created, find the number of cars, during each of these years:
[loweralpha]
.. 2011
.. 1989
.. 1997


.Items to submit
====
- Code used to answer the question
- Result of the code 
====



=== FIVE

Now that we have a bit of familiarity with the data, let's revisit another common `Python` package, called 'matplotlib'
Let's create some graphics using this package.
[loweralpha]
.. Create a bar graph that has years on x-axis and number of vehicles on the y-axis
.. Create a graph of something that you find interesting about the data.


.Helpful Hint
[%collapsible]
====
[source,python]
----
import matplotlib.pyplot as plt
----

====

.Items to submit
====
- Code used to answer the question
- Result of the code 
====




[NOTE]
====
TA applications for The Data Mine are currently being accepted.Please visit us https://purdue.ca1.qualtrics.com/jfe/form/SV_08IIpwh19umLvbE[here] to apply!
====


[WARNING]
====
_Please_ make sure to double check that your submission is complete, and contains all of your code and output before submitting. If you are on a spotty internet connection, it is recommended to download your submission after submitting it to make sure what you _think_ you submitted, was what you _actually_ submitted.
                                                                                                                             
In addition, please review our xref:submissions.adoc[submission guidelines] before submitting your project.
====