= TDM 20200: Project 13 -- Spring 2024

**Motivation:** In project 12 we created a container by pulling the `ubuntu` image. In this project we will try to create one simple container with a Virtual machine (as a simple web application).

**Context:** Create simple conceptual web app using `Flask` and create a container for the web app 

**Scope:** Python, Visual Studio Code, container, flask

.Learning Objectives
****
- Create a conceptual web application using flask on Anvil 
- Create a container for the web app
- Develop skills and techniques to create a `container`
- Understand the `Flask` framework
****
 
== Readings and Resources

[NOTE]
====
- Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].
- https://docker-curriculum.com/[docker introduction]
- https://flask.palletsprojects.com/en/3.0.x/tutorial/[flask tutorial]
====

== Questions

=== Question 1 (2 points)

[loweralpha]
..  Start a QEMU virtual machine and connect to it via `ssh`.
+
[TIP]
====
- You may refer back to Project 12, where we learned the steps needed to start a virtual machine and connect to it.
====

=== Question 2 (2 points)

.. Use the statement `docker pull python:3.10-slim` to pull a Python image from Docker Hub
.. Create a new directory named `flaskP13App`.  Inside that directory, using an editor (such `nano` or `vim`), create a simple flask app (with root '/') to display a sentence in the webpage.  The sentence may be simple, e.g., "Hello from Flask inside a Docker container!"  
+
[HINT]
====
- This https://flask.palletsprojects.com/en/3.0.x/tutorial/[flask tutorial] should be helpful.
====
+
.. Create a `requirements.txt` file; it is a list of packages or libraries needed to work on a project. For instance, like this:
+
[source, makefile]
----
flask==2.1.1
Jinja2==3.0.2
werkzeug==2.0.1
----

Afterwards, you can install the packages specified in the `requirements.txt` file like this:

`python3 -m pip install -r /path/to/the/requirements.txt`

or you may include it in the Dockerfile like this:
`RUN pip install -r requirements.txt`

=== Question 3 (2 points)

.. Create a `Dockerfile` inside the `flaskP13App` directory, using the directions from this https://docker-curriculum.com/[docker introduction].

 
=== Question 4 (2 points)

.. Build the Docker image using the command
[source,bash]
----
docker build -t flaskapp .
----

(Don't forget the period at the end of the command!  The period refers to the current directory.)

=== Question 5 (2 points)

.. Run the Flask App in a Docker Container using the command
[source,bash]
----
docker run -p 5000:5000 flaskapp
----

For the output from this question, you may choose to just take a screen shot of your terminal output, showing that everything is running successfully, for instance, like this:

.output
----
localhost:~/flaskP13App% docker run -p 5000:5000 flaskapp
 * Serving Flask app 'hello.py' (lazy loading)
 * Environment: production
   WARNING: This is a development server. Do not use it in a production deployment.
   Use a production WSGI server instead.
 * Debug mode: off
 * Running on all addresses.
   WARNING: This is a development server. Do not use it in a production deployment.
 * Running on http://172.17.0.2:5000/ (Press CTRL+C to quit)
----


Project 13 Assignment Checklist
====
* Jupyter Lab notebook with your code, comments and output for the assignment
    ** `firstname-lastname-project13.ipynb`
* bash file with code and comments for the assignment
    ** `firstname-lastname-project13.sh`

* Submit files through Gradescope
==== 

[WARNING]
====
_Please_ make sure to double check that your submission is complete, and contains all of your code and output before submitting. If you are on a spotty internet connection, it is recommended to download your submission after submitting it to make sure what you _think_ you submitted, was what you _actually_ submitted.
                                                                                                                             
In addition, please review our xref:submissions.adoc[submission guidelines] before submitting your project.
====
