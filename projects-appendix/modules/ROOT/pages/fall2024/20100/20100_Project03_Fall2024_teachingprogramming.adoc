 
= 201 Project 03: Data Cleaning of Wine Quality Data

In this project, we explore the `Wine Quality` dataset to understand its main characteristics and clean the data. 

== Objectives

* Load and preprocess Wine Quality data
* Calculate summary statistics and identify trends
* Visualize the data to better understand its structure and trends
 

== Dataset

The dataset used is the Wine Quality dataset, which contains information about various chemical properties of wines and their quality ratings.

- `/anvil/scratch/x-nzhou1/wine+quality/winequality-red.csv`
- `/anvil/scratch/x-nzhou1/wine+quality/winequality-white.csv`


== Questions

=== Question 1 (1 point)

[NOTE]
====
We will use Python's pandas library to load our file data in like so:
[source,python]
----
import pandas as pd
red_wine_file_path = '/anvil/scratch/x-nzhou1/wine+quality/winequality-red.csv'
white_wine_file_path = '/anvil/scratch/x-nzhou1/wine+quality/winequality-white.csv'
----
====

.. Please load the datasets of red wine and white wine to DataFrames named `red_wine_df` and `white_wine_df` respectively

Answer

[source,python]
----
red_wine_df = pd.read_csv(red_wine_file_path, delimiter=';')
white_wine_df = pd.read_csv(white_wine_file_path, delimiter=';')
----

=== Question 2 (1 point)

.. Please display the first few rows of both datasets using `.head()`

Answer

[source,python]
----
print(red_wine_df.head())
print(white_wine_df.head())
----
 
.. Please use `describe()` to show the summary statistics for both datasets

Answer

[source,python]
----
print(red_wine_df.describe())
print(white_wine_df.describe())
----
  

=== Question 3 (2 points)

[NOTE]
Handling duplicates ensures the data's integrity by removing any redundant records.

.. Please check for duplicates in both datasets and remove them if any
.. Please check the dataset `shape` after drop duplicates

Answer

[source,python]
---- 
print(f"Duplicate rows in red wine dataset: {red_wine_df.duplicated().sum()}")
 
red_wine_df = red_wine_df.drop_duplicates()
white_wine_df = white_wine_df.drop_duplicates()

# Verify removal
print(f"After removal, red wine dataset shape: {red_wine_df.shape}")
print(f"After removal, white wine dataset shape: {white_wine_df.shape}")
----

=== Question 4 (1 point)

[NOTE]
====
Outlier detection and visualization help to understand the distribution and potential anomalies in the data. 

For example, you can use Matplotlib to create boxplots for a specific feature in the wine datasets to visualize outliers.

[source,python]
----
import matplotlib.pyplot as plt

# Plot boxplot for the 'alcohol' feature in the red wine dataset
plt.figure(figsize=(8, 6))
plt.boxplot(red_wine_df['alcohol'])
plt.title('Boxplot of Alcohol in Red Wine')
plt.xlabel('Feature')
plt.ylabel('Value')
plt.show()

# Plot boxplot for the 'alcohol' feature in the white wine dataset
plt.figure(figsize=(8, 6))
plt.boxplot(white_wine_df['alcohol'])
plt.title('Boxplot of Alcohol in White Wine')
plt.xlabel('Feature')
plt.ylabel('Value')
plt.show()
----
====
 
.. Please use Matplotlib to create a boxplot for the `pH` feature in both datasets to identify outliers

=== Question 5 (2 points)

[NOTE]
====
Normalization/scaling of the data helps in standardizing the feature values, making them comparable and improving the performance of certain machine learning algorithms. 

For example, using `StandardScaler` from the `sklearn.preprocessing` module can help to scale your data.
 
[source,python]
---- 
from sklearn.preprocessing import StandardScaler

# Standardize the red wine dataset
scaler = StandardScaler()
red_wine_scaled = pd.DataFrame(scaler.fit_transform(red_wine_df), columns=red_wine_df.columns)

# Standardize the white wine dataset
white_wine_scaled = pd.DataFrame(scaler.fit_transform(white_wine_df), columns=white_wine_df.columns)

# Display the first few rows of the standardized datasets
print(red_wine_scaled.head())
print(white_wine_scaled.head())
----
====

..  Please calculate and compare the mean and standard deviation of the alcohol feature in both the original and standardized datasets.

Answer

[source,python]
---- 
print(red_wine_df['alcohol'].mean())   
print(red_wine_df['alcohol'].std())   
 
print(red_wine_scaled['alcohol'].mean())  
print(red_wine_scaled['alcohol'].std())    
 
print(white_wine_df['alcohol'].mean())   
print(white_wine_df['alcohol'].std())   
 
print(white_wine_scaled['alcohol'].mean())   
print(white_wine_scaled['alcohol'].std())   
----


=== Question 6 (2 points)

Combining datasets allows for a more comprehensive analysis and potentially more robust modeling. For example, you could add a 'type' column to differentiate between red and white wines and then combine both datasets.

.. Please add a 'type' column to differentiate between red and white wines and combine both datasets into a single DataFrame

[TIP]
====
[source,python]
---- 
# Add a 'type' column
red_wine_scaled['type'] = 'red'
white_wine_scaled['type'] = 'white'

# Combine both datasets
wine_combined = pd.concat([red_wine_scaled, white_wine_scaled], ignore_index=True)

# Display the first few rows of the combined dataset
print(wine_combined.head())
----
====
=== Question 7 (1 point)

[NOTE]
====
Saving the cleaned data ensures that it is ready for future analysis and modeling. 

For example, you can use `to_csv()` method from pandas to save the cleaned dataset.
====
.. Please save the cleaned and combined dataset to a new CSV file

Answer

[source,python]
----
wine_combined.to_csv('wine_quality_cleaned.csv', index=False)
----

Project 03 Assignment Checklist
====
* Jupyter Lab notebook with your code, comments and output for the assignment
    ** `firstname-lastname-project03.ipynb` 
* Python file with code and comments for the assignment
    ** `firstname-lastname-project03.py`
* Submit files through Gradescope
====

[WARNING]
====
_Please_ make sure to double check that your submission is complete, and contains all of your code and output before submitting. If you are on a spotty internet connection, it is recommended to download your submission after submitting it to make sure what you _think_ you submitted, was what you _actually_ submitted.

In addition, please review our xref:projects:current-projects:submissions.adoc[submission guidelines] before submitting your project.
====

 
